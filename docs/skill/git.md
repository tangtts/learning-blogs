
# git



## ç”¨æˆ·å / é‚®ç®±

#### è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±
```bash
git config --global user.name "John Doe"
git config --global user.email johndoe@example.com
```
è¿™æ ·çš„è¯ï¼Œå¯ä»¥åœ¨æœ¬åœ°ä»“åº“ä¸­ä½¿ç”¨å…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚

#### æŸ¥çœ‹ç”¨æˆ·åå’Œé‚®ç®±   

```bash
git config --global user.name
git config --global user.email
```

æˆ–è€… git config [key]

```bash
git config user.name
```

## commit message
- featï¼šæ–°åŠŸèƒ½(feature(åŠŸèƒ½))
- fixï¼šä¿®è¡¥bug
- docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰
- styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
- refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰
- testï¼šå¢åŠ æµ‹è¯•
- choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- updï¼šæ›´æ–°æŸåŠŸèƒ½ï¼ˆä¸æ˜¯ feat, ä¸æ˜¯ fixï¼‰


## git åŒºåŸŸ
<img src="@other/gitåŒºåŸŸ.png"/>

- å·¥ä½œåŒº(working tree): æœ¬åœ°ç¼–è¾‘å™¨
- æš‚å­˜åŒº(index):git addæ“ä½œåè¿›å…¥æš‚å­˜åŒºï¼Œå¯ç”¨git statusæŸ¥çœ‹
- æœ¬åœ°ä»“åº“(repository):git commit åè¿›å…¥æœ¬åœ°ä»“åº“


<img src="@other/gitç›®å½•.png"/>


## git æ“ä½œ

### (amend)ä¿®æ”¹ä¸Šä¸€æ¬¡
```bash
# æŠŠä¸Šä¸€æ¬¡çš„commitè®°å½•å»é™¤ï¼Œä¿®æ”¹commitä¿¡æ¯ã€‚
git commit --amend
```

```bash
# æ­¤æ—¶ commit ä¿¡æ¯ å˜ä¸º 'é‡æ–°ä¿®æ”¹
# å¦‚æœ ä¸åŠ  m ä¼šè¿›å…¥ ç¼–è¾‘æ¨¡å¼
 git commit --amend -m 'é‡æ–°ä¿®æ”¹'
``` 
ç›¸å½“äºæŠŠä¸Šä¸€æ¬¡çš„ `commit` ç»™è¦†ç›–äº†
```bash
git add .
git commit --amend --no-edit
```

### git reset 

```bash
# å°†æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶æ¢å¤åˆ°å·¥ä½œåŒº
git reset HEAD

# å›é€€åˆ°æŒ‡å®šcommitï¼Œè¯¥commitä¹‹åçš„æäº¤å†…å®¹ï¼Œä¿ç•™å·¥ä½œç›®å½•ï¼Œæ–°å†…å®¹æ”¾è¿›æš‚å­˜åŒº
git reset --soft

# å›é€€åˆ°æŒ‡å®šcommitï¼Œè¯¥commitä¹‹åçš„æäº¤å†…å®¹ï¼Œå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å†…å®¹éƒ½è¢«æŠ¹æ‰
git reset --hard

# ä¸å¸¦å‚æ•°,æˆ–å¸¦å‚æ•°â€“mixed(é»˜è®¤å‚æ•°)ï¼Œä¸git reset --soft ä¸åŒï¼Œæ–°å†…å®¹æ”¾åˆ°å·¥ä½œåŒº
git reset 
git reset --mixed 
```

```bash
# å›åˆ°è¿‡å»çš„æŸä¸ªç‰ˆæœ¬
git reset --soft 158bd35

#  å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
git reset --soft HEAD^

# å›é€€Nä¸ªç‰ˆæœ¬
git reset --soft HEAD^n
```

### git revert

å½“ `git push` ä¹‹åï¼Œéœ€è¦å›é€€  

ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½ ä½¿ç”¨ `a` åˆ†æ”¯åˆå¹¶ä»£ç åˆ° `b` åˆ†æ”¯æ—¶ï¼Œå‘ç° `a` åˆ†æ”¯æœ‰é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ `revert` å–æ¶ˆ

```bash
  git revert -n commit-id
```

åªä¼šååšcommit-idå¯¹åº”çš„å†…å®¹ï¼Œç„¶åé‡æ–°commitä¸€ä¸ªä¿¡æ¯ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„commitå†…å®¹

ååšå¤šä¸ªcommit-id

```bash
git revert -n commit-idA..commit- idB
```

- ååšcommit-idAåˆ°commit-idBä¹‹é—´çš„æ‰€æœ‰commit
- æ³¨æ„ï¼šä½¿ç”¨-næ˜¯åº”ä¸ºrevertåï¼Œéœ€è¦é‡æ–°æäº¤ä¸€ä¸ªcommitä¿¡æ¯ï¼Œç„¶ååœ¨æ¨é€ã€‚å¦‚æœä¸ä½¿ç”¨-nï¼ŒæŒ‡ä»¤åä¼šå¼¹å‡ºç¼–è¾‘å™¨ç”¨äºç¼–è¾‘æäº¤ä¿¡æ¯

####  reset å’Œ revert çš„åŒºåˆ«  

git reset æ˜¯å›æ»šåˆ°å¯¹åº”çš„commit-idï¼Œç›¸å½“äºæ˜¯åˆ é™¤äº†commit-idä»¥åçš„æ‰€æœ‰çš„æäº¤ï¼Œå¹¶ä¸”ä¸ä¼šäº§ç”Ÿæ–°çš„commit-idè®°å½•ï¼Œå¦‚æœè¦æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨çš„è¯ï¼Œéœ€è¦å¼ºåˆ¶æ¨é€-f  

git revert æ˜¯ååšæ’¤é”€å…¶ä¸­çš„commit-idï¼Œç„¶åé‡æ–°ç”Ÿæˆä¸€ä¸ªcommit-idã€‚æœ¬èº«ä¸ä¼šå¯¹å…¶ä»–çš„æäº¤commit-idäº§ç”Ÿå½±å“ï¼Œå¦‚æœè¦æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨çš„è¯ï¼Œå°±æ˜¯æ™®é€šçš„æ“ä½œgit pushå°±å¥½äº†


### git rebase
ä½¿ç”¨ git rebase â€“i xxxxï¼ˆcommitç¼–å·ï¼‰ï¼Œæ­¤å¤„çš„ç¼–å·æ˜¯åˆå¹¶ç¼–å·åä¸€ä¸ªæäº¤çš„å†…å®¹å¼€å§‹

*i æ˜¯interactive(äº¤äº’å¼ / äº’åŠ¨)*  
- pick  çš„æ„æ€æ˜¯è¦ä¼šæ‰§è¡Œè¿™ä¸ª commit
- squash(å‹æ‰)  çš„æ„æ€æ˜¯è¿™ä¸ª commit ä¼šè¢«åˆå¹¶åˆ°å‰ä¸€ä¸ª commit

```txt
é¦–å…ˆï¼Œè¿™ä¸ªcommitidè¡¨ç¤ºä½ è¦è¿›è¡Œrebaseçš„base(åŸº)ï¼Œ
ä¹Ÿå°±æ˜¯åœ¨commitIdåˆ°å½“å‰HEADä¹‹é—´çš„commitéƒ½ä¼šè¢«åˆ—å‡ºæ¥ã€‚ç„¶åä½ å†³å®špickå“ªäº› squashå“ªäº›
å‡è®¾ ä½ çš„commit logç±»ä¼¼è¿™æ ·
commit 8 (HEAD)
commit 7
commit 6
commit 5
commit 4
commit 3
commit 2
...

ä½ æœŸæœ›å°†ä»4åˆ°8çš„ commit åˆå¹¶ä¸ºä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯åŸºäº3è¿›è¡Œ rebase, æœ‰ä¸¤ç§æ–¹å¼ï¼Œ

1ï¼šç›´æ¥ git rebase -i 3
2ï¼šç›¸å¯¹å½“å‰HEAD, å› ä¸º3å‰é¢æœ‰5ä¸ª commitï¼Œé‚£å°±æ˜¯ git rebase -i HEAD~5
```
ä¾‹å­:
```bash
  # git log
# messageId
	# 76fb07   æœ€åä¸€æ¬¡
	# fef7e6 	 æœ€äºŒæ¬¡
	# fef7e6   ç¬¬ä¸€æ¬¡

# éœ€è¦å¸¦ä¸Š~,è¿™æ ·å¯ä»¥å¸¦ä¸Šæœ¬æ¬¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸åŒ…å«è‡ªå·±
git rebase -i fef7e6~

# è¿›å…¥ ç¼–è¾‘é¡µé¢
# ç¼–è¾‘æ˜¯ä» è€ -> æ–° è¿›è¡Œæ’åº
```
### git commit
åˆå¹¶ add / commit 
```bash
git commit -am "easy"
```
### git stash
```bash
 # å¯ä»¥å¡«å†™ stash ä¿¡æ¯
 git stash save cool
```
æŸ¥çœ‹æ‰€æœ‰ä¿å­˜çš„ä¿¡æ¯
```bash
git stash list
```
ä½¿ç”¨å¯¹åº”çš„ç´¢å¼•
```bash
 git stash apply 0
```

### git clone
```bash
git clone --depth 1 https://github.com/dogescript/xxxxxxx.git
```

## åˆ†æ”¯
### æ·»åŠ å¹¶ä¸”åˆ‡æ¢åˆ†æ”¯

åˆ›å»º `dev` åˆ†æ”¯å¹¶ä¸”åˆ‡æ¢åˆ° `dev` åˆ†æ”¯
```bash
git checkout -b dev
```
ç›¸å½“äº

```bash
git branch dev
git checkout dev
```
### åˆ é™¤åˆ†æ”¯
**ä¸èƒ½å†å½“å‰åˆ†æ”¯åˆ é™¤**
```bash
git branch -d dev
```
### åˆå¹¶åˆ†æ”¯
ä¼šæ–°å¢ä¸€ä¸ª commit 
```bash
 # åœ¨ master åˆ†æ”¯ä¸Šåˆå¹¶
git merge dev
```

### åˆå¹¶å…¶ä»–åˆ†æ”¯çš„æ–‡ä»¶
ä¹Ÿå°±æ˜¯è¯´åˆå¹¶ `origin/dev` åˆ†æ”¯ä¸‹çš„ è¿™ä¸ªæ–‡ä»¶å¤¹

```bash
 git checkout origin/dev src/views/Board-management/personal-management
```

### åˆå¹¶å…¶ä»–åˆ†æ”¯çš„æäº¤(cherry-pick)

åœ¨ `dev` åˆ†æ”¯ä¸‹,æœ‰ä¸€ä¸ª `commitId` ä¸º `123456`  

åœ¨ `Q` åˆ†æ”¯ä¸‹,ä½¿ç”¨:
```bash
 git cherry-pick 123456
```
å¯ä»¥æŠŠå…¶ä»–åˆ†æ”¯çš„ `commit` åˆå¹¶åˆ°æœ¬åˆ†æ”¯

### æ·»åŠ å…¶ä»–åˆ†æ”¯çš„æ–‡ä»¶
æ¯”å¦‚åœ¨ `02` åˆ†æ”¯ä¸‹, ä¿®æ”¹äº†æ–‡ä»¶,éœ€è¦åœ¨ `03` åˆ†æ”¯ä¸‹åŒæ­¥,é‚£ä¹ˆåœ¨ 02 åˆ†æ”¯ä¸‹ä½¿ç”¨
```bash
# ä»æœ€è¿‘ä¸€æ¬¡æ‰“èµ·
git format-patch HEAD^
# æœ€è¿‘çš„äºŒä¸ªpatchå†…å®¹
git format-patch HEAD^^
```
åŒä¸Š
```bash
git format-patch -1
git format-patch -2
```

ä¼šç”Ÿæˆä¸€ä¸ª `02.patch` æ–‡ä»¶   
æŠŠè¿™ä¸ªæ–‡ä»¶æ”¾åˆ° `03` æ ¹ç›®å½•ä¸‹  
åœ¨ `03` åˆ†æ”¯ä¸‹,ä½¿ç”¨

```bash
git am 02.patch
```

ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™åŒ¹é…

<blue>ä¸€å®šè¦åœ¨ git bash ä¸Šä½¿ç”¨</blue>

```bash
git am *.am
```

#### å…¶ä»–æ“ä½œ

##### ç”Ÿæˆå•ä¸ªcommit çš„ patch
```bash
# å¾€å‰1ä¸ªæäº¤çš„å†…å®¹
git format-patch -1 <r1>
```

```bash
# -næŒ‡patchæ•°ï¼Œ07feå¯¹åº”æäº¤çš„åç§°, æŸæ¬¡æäº¤ï¼ˆå«ï¼‰ä¹‹å‰çš„å‡ æ¬¡æäº¤
git format-patch â€“n 07fe
```
##### ç”ŸæˆæŸcommitä»¥æ¥çš„ä¿®æ”¹patch
```bash
 #ç”ŸæˆæŸcommitä»¥æ¥çš„ä¿®æ”¹patchï¼ˆä¸åŒ…å«è¯¥commitï¼‰
 git format-patch <r1>  
```
##### ç”Ÿæˆä¸¤ä¸ªcommité—´çš„ä¿®æ”¹çš„patch
```bash
 #ç”Ÿæˆä¸¤ä¸ªcommité—´çš„ä¿®æ”¹çš„patch
git format-patch <r1>..<r2>  
```
##### è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹

```bash
git format-patch -o path/ <r1>..<r2>
```

##### æ£€æŸ¥èƒ½å¦åº”ç”¨æˆåŠŸ

```bash
 git apply --check  newpatch.patch
```


### æš‚å­˜åˆ†æ”¯
```bash
# åœ¨ dev åˆ†æ”¯ å¼€å‘ï¼Œçªç„¶è¦åˆ‡æ¢å› master åˆ†æ”¯
# åœ¨ dev åˆ†æ”¯,æš‚å­˜ï¼Œä¸ç”¨ add
git stash 
# æŸ¥çœ‹åˆ†æ”¯
git stash list
# ä½¿ç”¨åˆ†æ”¯,å¹¶ä¸”åˆ é™¤ ï¼Œå’Œ æ•°ç»„ pop ä¸€æ ·
git stash pop
# ä½¿ç”¨åˆ†æ”¯ï¼Œä½†ä¸åˆ é™¤
git stash apply
# ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬å·ï¼Œå› ä¸ºä½ å¯èƒ½addå¤šæ¬¡ 
git stash apply ç‰ˆæœ¬å·

# åˆ é™¤åˆ†æ”¯
git stash drop
# åˆ é™¤æŒ‡å®šåˆ†æ”¯
git stash drop ç‰ˆæœ¬å·
```
### clone

#### ä¸‹è½½æŒ‡å®šåˆ†æ”¯
è¿™å°†ä¼šæŠŠ `yourrepository` ä»“åº“çš„ `develop` åˆ†æ”¯çš„ä»£ç ä¸‹è½½åˆ°ä½ çš„æœ¬åœ°è®¡ç®—æœºä¸Š
```bash
git clone -b develop https://github.com/yourusername/yourrepository.git
```
#### ä¿®æ”¹ä¸‹è½½çš„æ–‡ä»¶å¤¹
é»˜è®¤ä½¿ç”¨çš„æ˜¯ git ä¸­æ–‡ä»¶å¤¹

```bash
git clone https://github.com/libgit2/libgit2 mylibgit
```
åœ¨æœ¬åœ°åˆ›å»ºçš„ä»“åº“åå­—å˜ä¸º mylibgitã€‚

#### æŸ¥çœ‹æ¯ä¸€ä¸ªåˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤

```bash
git branch -v
```

```bash
  iss53   93b412c fix javascript issue
  * master  7a98805 Merge branch 'iss53'
  testing 782fd34 add scott to the author list in the readmes
```

## gitignore

[glob æ¨¡å¼ğŸ”—](#glob-æ¨¡å¼)

``` 
â”œâ”€ dist
â”‚	 â”œâ”€ 1.md
â”œâ”€ a
â”‚  â”œâ”€ dist.md
â”‚  â”œâ”€ a1.jpg
â”‚  â””â”€ a2.md
â””â”€ b
   â”œâ”€ dist
	 â”‚  â”œâ”€ b1.jpg
   â”œâ”€ b2.jpg
   â””â”€ b21.jpg
```	 
### å¿½ç•¥æ‰€æœ‰å…·æœ‰ç‰¹å®šåç§°çš„æ–‡ä»¶

å¿½ç•¥æ‰€æœ‰å…·æœ‰ç‰¹å®šåç§°çš„æ–‡ä»¶, åŒ¹é…ä»»ä½•åå­—å¸¦æœ‰ test çš„æ–‡ä»¶å’Œç›®å½•  

å¦‚æœåªå†™ä¸€ä¸ª `dist`, **ä¸ç®¡åµŒå¥—å¤šæ·±,ä¸è®ºæ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹** éƒ½ä¼šè¢«æ’é™¤,
ä¼šæ’é™¤`dist`,`a/dist`,å’Œ `b/dist` 

### æ–œæ 
1. æ–œæ åœ¨å‰é¢
   > ä»–æ˜¯ä»¥ `.gitignore` ä¸ºåŸºç¡€å‡ºå‘, `/dist` ä¼šæ’é™¤ `dist` æ–‡ä»¶æˆ–è€…æ˜¯ `dist` æ–‡ä»¶å¤¹
2. æ–œæ åœ¨ä¸­é—´
  > `a/dist`,ä»¥ `.gitignore`,æ‰¾ `a` ä¸‹é¢çš„ `dist` çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹
3. æ–œæ åœ¨åé¢
  > `dist/` è¡¨ç¤ºåªåŒ¹é…æ–‡ä»¶å¤¹,ä¸åŒ¹é…æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ `dist`,`b/dist` ä¼šè¢«æ’é™¤,`a/dist`	ä¸ä¼šæ’é™¤ 

### ä»»æ„å­—ç¬¦*
`*.jpg` ä¼šåŒ¹é… `a1.jpg` å’Œ `b1.jpg`å’Œ`b2.jpg`  
ä½¿ç”¨ `b/*.jpg` æ— æ³•åŒ¹é… `b/dist/b0.jpg`,éœ€è¦ä½¿ç”¨ `b/**/*.jpg`,è¿™é‡Œçš„ `**` è¡¨ç¤ºä»»æ„å±‚çº§

`img*` è¿™ä¸ªå‘½ä»¤å°†å¿½ç•¥æ‰€æœ‰åå­—ä»¥ img å¼€å¤´çš„æ–‡ä»¶å’Œç›®å½•ã€‚

### å•ä¸ªå­—ç¬¦?
 æ˜Ÿå·è¡¨ç¤ºå¤šä¸ªå­—ç¬¦,é—®å·è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦  
 æ‰€ä»¥ `b/**/?.jpg` æ— æ³•åŒ¹é… `b/b21.jpg`

### é!
`upload/**/*.*` å¿½ç•¥ `upload` ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,è¿™æ ·çš„è¯ `upload` ç›®å½•ä¸ä¼šå­˜åœ¨  
`!upload/1.txt` ä¸å¿½ç•¥ `upload/1.txt`,è¿™æ ·çš„è¯ `upload` ç›®å½•ä¼šå­˜åœ¨

### æˆ–[]
[abc] åŒ¹é…ä»»ä½•ä¸€ä¸ªåˆ—åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦ï¼ˆè¿™ä¸ªä¾‹å­è¦ä¹ˆåŒ¹é…ä¸€ä¸ª aï¼Œè¦ä¹ˆåŒ¹é…ä¸€ä¸ª bï¼Œè¦ä¹ˆåŒ¹é…ä¸€ä¸ª cï¼‰ï¼ˆæ¯”å¦‚ [0-9] è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ 0 åˆ° 9 çš„æ•°å­—ï¼‰


### ç§»é™¤æ–‡ä»¶
å·²ç» `git add`ï¼Œåˆ™å¿…é¡»è¦ç”¨å¼ºåˆ¶åˆ é™¤é€‰é¡¹ -fã€‚
```bash
git rm -f <file-name>
```

å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼Œä½ æƒ³è®©æ–‡ä»¶ä¿ç•™åœ¨ç£ç›˜ï¼Œä½†æ˜¯å¹¶ä¸æƒ³è®© Git ç»§ç»­è·Ÿè¸ª ã€‚

```bash
git rm --cached README
```

å¯ä»¥ä½¿ç”¨ `glob` æ¨¡å¼

```bash
git rm log/*.log
```

æ­¤å‘½ä»¤åˆ é™¤ log/ ç›®å½•ä¸‹æ‰©å±•åä¸º .log çš„æ‰€æœ‰æ–‡ä»¶

```bash
git rm *txt
```
è¯¥å‘½ä»¤ä¸ºåˆ é™¤ä»¥ `txt` ç»“å°¾çš„æ‰€æœ‰æ–‡ä»¶ã€‚

```bash
git rm [!1-9].txt
```
åˆ é™¤é `1-9` çš„txt

## logæŸ¥çœ‹æäº¤å†å²

 
|é€‰é¡¹|	è¯´æ˜|
|:---:|:---:|
|-p| æŒ‰è¡¥ä¸æ ¼å¼æ˜¾ç¤ºæ¯ä¸ªæ›´æ–°ä¹‹é—´çš„å·®å¼‚ã€‚|
|--stat | æ˜¾ç¤ºæ¯æ¬¡æ›´æ–°çš„æ–‡ä»¶ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯ã€‚|
|--shortstat|åªæ˜¾ç¤º --stat ä¸­æœ€åçš„è¡Œæ•°ä¿®æ”¹æ·»åŠ ç§»é™¤ç»Ÿè®¡ã€‚|
|--name-only|ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•ã€‚|
|--oneline|åªæ˜¾ç¤ºcommitä¿¡æ¯|

### stat

```bash
git log --stat
```
å¦‚æœä½ æƒ³çœ‹åˆ°æ¯æ¬¡æäº¤çš„ç®€ç•¥çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ --stat é€‰é¡¹
```bash
commit 734df63110fae6db0ebef5daf89f63851d2989b0 (HEAD -> master)
Author: TSK2 <2939117014@qqcom>
Date:   Wed Jan 17 11:14:47 2024 +0800

    ä¿®æ”¹a

 a.txt | 1 +
 1 file changed, 1 insertion(+)
```

### shortstat

```bash
git log --shortstat
```

```bash
commit 734df63110fae6db0ebef5daf89f63851d2989b0 (HEAD -> master)
Author: TSK2 <2939117014@qqcom>
Date:   Wed Jan 17 11:14:47 2024 +0800

    ä¿®æ”¹a

 1 file changed, 1 insertion(+)
```


### name-only

```bash
git log ---name-only
```

```bash
commit 734df63110fae6db0ebef5daf89f63851d2989b0 (HEAD -> master)
Author: TSK2 <2939117014@qqcom>
Date:   Wed Jan 17 11:14:47 2024 +0800

    ä¿®æ”¹a

a.txt
```

### oneline

```bash
git log --oneline
```

```bash
734df63 (HEAD -> master) ä¿®æ”¹a
b5a7601 æäº¤b.txt
24c9f3f bcd heihei
```

### é™åˆ¶ git log è¾“å‡ºçš„é€‰é¡¹

|é€‰é¡¹|	è¯´æ˜|
|:---:|:---:|
|-(n)| ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ã€‚|
|--since, --after | ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ã€‚|
|--until, --before|ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ã€‚|
|--author,--committer |ä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…ç›¸å…³çš„æäº¤ã€‚|
|--grep|ä»…æ˜¾ç¤ºå«æŒ‡å®šå…³é”®å­—çš„æäº¤(æŒ‡ commit ä¸­çš„ä¿¡æ¯)|

```bash
git log --after="1-15" --before="1-20" --author="TSK" --grep="æ"
```
æˆ–è€…æ˜¯ç›¸å¯¹åœ°å¤šä¹…ä»¥å‰ "2 years 1 day 3 minutes ago"ã€‚
```bash
git log --after="1-15" --after="1 day ago" --grep="æ"
```

```bash
git log --graph --oneline --decorate --all
```
```txt
* bd5b85f (HEAD) åˆå¹¶
* d113ff1 1.txt
* b5f72f2 (dev) ä¿®æ”¹ä¸ºdev
| * 4f7a014 (master) ä¿®æ”¹ä¸ºmaster
| *   f35e4d1 Merge branch 'dev'
| |\
| |/
|/|
* | 579ea03 dev.txt
| * f98eeca 1.txt
|/
* 734df63 ä¿®æ”¹a
* b5a7601 æäº¤b.txt
* 24c9f3f bcd heihei
```

## æ‰“æ ‡ç­¾

### åˆ—å‡ºæ ‡ç­¾

```bash
git tag
```
ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç‰¹å®šçš„æ¨¡å¼æŸ¥æ‰¾æ ‡ç­¾ã€‚

```bash
git tag -l 'v1.8.5*'
v1.8.5
v1.8.5-rc0
v1.8.5-rc1
v1.8.5.4
v1.8.5.5
```
### åˆ›å»ºæ ‡ç­¾
Git ä½¿ç”¨ä¸¤ç§ä¸»è¦ç±»å‹çš„æ ‡ç­¾ï¼šè½»é‡æ ‡ç­¾ï¼ˆlightweightï¼‰ä¸é™„æ³¨æ ‡ç­¾ï¼ˆannotatedï¼‰ã€‚

- ä¸€ä¸ªè½»é‡æ ‡ç­¾å¾ˆåƒä¸€ä¸ªä¸ä¼šæ”¹å˜çš„åˆ†æ”¯ - å®ƒåªæ˜¯ä¸€ä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨ã€‚  
- é™„æ³¨æ ‡ç­¾æ˜¯å­˜å‚¨åœ¨ Git æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡ã€‚ 
  > å®ƒä»¬æ˜¯å¯ä»¥è¢«æ ¡éªŒçš„ï¼›å…¶ä¸­åŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ï¼›è¿˜æœ‰ä¸€ä¸ªæ ‡ç­¾ä¿¡æ¯ã€‚  
  > é€šå¸¸å»ºè®®åˆ›å»ºé™„æ³¨æ ‡ç­¾ï¼Œè¿™æ ·ä½ å¯ä»¥æ‹¥æœ‰ä»¥ä¸Šæ‰€æœ‰ä¿¡æ¯ï¼›ä½†æ˜¯å¦‚æœä½ åªæ˜¯æƒ³ç”¨ä¸€ä¸ªä¸´æ—¶çš„æ ‡ç­¾ï¼Œæˆ–è€…å› ä¸ºæŸäº›åŸå› ä¸æƒ³è¦ä¿å­˜é‚£äº›ä¿¡æ¯ï¼Œè½»é‡æ ‡ç­¾ä¹Ÿæ˜¯å¯ç”¨çš„ã€‚

#### é™„æ³¨æ ‡ç­¾

åªéœ€è¦ `-a`(annotated(å¸¦æ³¨é‡Šçš„)), `-m` æ˜¯å¯¹æ­¤æ ‡ç­¾è¿›è¡Œç®€å•æè¿°

```bash
$ git tag -a v1.4 -m 'my version 1.4'
$ git tag
v0.1
v1.3
v1.4
```
é€šè¿‡ä½¿ç”¨ git show å‘½ä»¤å¯ä»¥çœ‹åˆ°æ ‡ç­¾ä¿¡æ¯ä¸å¯¹åº”çš„æäº¤ä¿¡æ¯

```bash
$ git show v1.4


tag v1.4
Tagger: Ben Straub <ben@straub.cc>
Date:   Sat May 3 20:19:12 2014 -0700

my version 1.4

commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon <schacon@gee-mail.com>
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version numb
```

#### è½»é‡æ ‡ç­¾

è½»é‡æ ‡ç­¾æœ¬è´¨ä¸Šæ˜¯å°†æäº¤æ ¡éªŒå’Œå­˜å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ - æ²¡æœ‰ä¿å­˜ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚

```bash
$ git tag v1.4-lw
$ git tag
v0.1
v1.3
v1.4
v1.4-lw
v1.5
```

#### åæœŸæ‰“æ ‡ç­¾

```bash
$ git log --pretty=oneline
166ae0c4d3f420721acbb115cc33848dfcc2121a started write support
9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile
964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo
8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme
```

å‡è®¾åœ¨ v1.2 æ—¶ä½ å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯åœ¨ â€œupdated rakefileâ€ æäº¤ã€‚ ä½ å¯ä»¥åœ¨ä¹‹åè¡¥ä¸Šæ ‡ç­¾ã€‚

```bash
$ git tag -a v1.2 9fceb02

$ git tag
v0.1
v1.2
```

#### å…±äº«æ ‡ç­¾
git push å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚   
åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾å¼åœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚ è¿™ä¸ªè¿‡ç¨‹å°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ · - ä½ å¯ä»¥è¿è¡Œ git push origin [tagname]ã€‚

```bash
$ git push origin v1.5
```

å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦æœ‰ --tags é€‰é¡¹çš„ git push å‘½ä»¤ã€‚ è¿™å°†ä¼šæŠŠæ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šçš„æ ‡ç­¾å…¨éƒ¨ä¼ é€åˆ°é‚£é‡Œã€‚

```bash
git push origin --tags
```

#### åˆ é™¤æ ‡ç­¾

åˆ é™¤æœ¬åœ°æ ‡ç­¾
```bash
git tag - d æ ‡ç­¾åç§°
```
åˆ é™¤è¿œç¨‹ä»“åº“çš„æ ‡ç­¾

```bash
git push origin --delete æ ‡ç­¾åç§°
```

#### æ£€å‡ºæ ‡ç­¾

> æ£€å‡ºæ ‡ç­¾çš„ç†è§£ ï¼š æˆ‘æƒ³åœ¨è¿™ä¸ªæ ‡ç­¾çš„åŸºç¡€ä¸Šè¿›è¡Œå…¶ä»–çš„å¼€å‘æˆ–æ“ä½œã€‚  
>æ£€å‡ºæ ‡ç­¾çš„æ“ä½œå®è´¨ ï¼š å°±æ˜¯ä»¥æ ‡ç­¾æŒ‡å®šçš„ç‰ˆæœ¬ä¸ºåŸºç¡€ç‰ˆæœ¬ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œç»§ç»­å…¶ä»–çš„æ“ä½œã€‚  
> **ä»¥æ ‡ç­¾ä¸ºåŸºç¡€åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯**ã€‚

```bash
$ git checkout -b åˆ†æ”¯åç§° æ ‡ç­¾åç§°
```

## Git åˆ«å

 å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½è¾“å…¥å®Œæ•´çš„ Git å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ git config ä¸ºæ¯ä¸€ä¸ªå‘½ä»¤è®¾ç½®ä¸€ä¸ªåˆ«å

```bash
 git config --global alias.co checkout
git config --global alias.ci commit

 git config --global alias.unstage 'reset HEAD --'

# è¾“å…¥ git lg å¯ä»¥ç›´æ¥æ‰“å°
 git config --global alias.lg "log --oneline --graph --decorate --all"
```
è¿™ä¼šä½¿ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ç­‰ä»·ï¼š

```bash
git unstage fileA
git reset HEAD -- fileA
```

åˆ é™¤åˆ«å

```bash
git config --global --unset alias.lg
```
## merge 

å®ƒä¼šæŠŠä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°å¿«ç…§ï¼ˆC3 å’Œ C4ï¼‰ä»¥åŠäºŒè€…æœ€è¿‘çš„å…±åŒç¥–å…ˆï¼ˆC2ï¼‰è¿›è¡Œä¸‰æ–¹åˆå¹¶ï¼Œåˆå¹¶çš„ç»“æœæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„å¿«ç…§ï¼ˆå¹¶æäº¤ï¼‰ã€‚

<img src="@other/basic-merge.png"/>

è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼šä½ å¯ä»¥æå–åœ¨ C4 ä¸­å¼•å…¥çš„è¡¥ä¸å’Œä¿®æ”¹ï¼Œç„¶ååœ¨ C3 çš„åŸºç¡€ä¸Šåº”ç”¨ä¸€æ¬¡ã€‚ åœ¨ Git ä¸­ï¼Œè¿™ç§æ“ä½œå°±å«åš å˜åŸºã€‚ ä½ å¯ä»¥ä½¿ç”¨ rebase å‘½ä»¤å°†æäº¤åˆ°æŸä¸€åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦ä¸€åˆ†æ”¯ä¸Šï¼Œ

```bash
git checkout experiment
git rebase master
```
<img src="@other/basic-rebase.png"/>

 ä½ åˆ›å»ºäº†ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯ serverï¼Œä¸ºæœåŠ¡ç«¯æ·»åŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œæäº¤äº† C3 å’Œ C4ã€‚ ç„¶åä» C3 ä¸Šåˆ›å»ºäº†ç‰¹æ€§åˆ†æ”¯ clientï¼Œä¸ºå®¢æˆ·ç«¯æ·»åŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œæäº¤äº† C8 å’Œ C9ã€‚ æœ€åï¼Œä½ å›åˆ° server åˆ†æ”¯ï¼Œåˆæäº¤äº† C10ã€‚

<img src="@other/interesting-rebase.png"/>

å‡è®¾ä½ å¸Œæœ›å°† client ä¸­çš„ä¿®æ”¹åˆå¹¶åˆ°ä¸»åˆ†æ”¯å¹¶å‘å¸ƒï¼Œä½†æš‚æ—¶å¹¶ä¸æƒ³åˆå¹¶ server ä¸­çš„ä¿®æ”¹ï¼Œå› ä¸ºå®ƒä»¬è¿˜éœ€è¦ç»è¿‡æ›´å…¨é¢çš„æµ‹è¯•ã€‚ è¿™æ—¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ git rebase å‘½ä»¤çš„ --onto é€‰é¡¹ï¼Œé€‰ä¸­åœ¨ client åˆ†æ”¯é‡Œä½†ä¸åœ¨ server åˆ†æ”¯é‡Œçš„ä¿®æ”¹ï¼ˆå³ C8 å’Œ C9ï¼‰ï¼Œå°†å®ƒä»¬åœ¨ master åˆ†æ”¯ä¸Šé‡æ”¾ï¼š

```bash
 git rebase --onto master server client
```
ä»¥ä¸Šå‘½ä»¤çš„æ„æ€æ˜¯ï¼šâ€œå–å‡º client åˆ†æ”¯ï¼Œæ‰¾å‡ºå¤„äº client åˆ†æ”¯å’Œ server åˆ†æ”¯çš„å…±åŒç¥–å…ˆä¹‹åçš„ä¿®æ”¹ï¼Œç„¶åæŠŠå®ƒä»¬åœ¨ master åˆ†æ”¯ä¸Šé‡æ”¾ä¸€éâ€ã€‚ è¿™ç†è§£èµ·æ¥æœ‰ä¸€ç‚¹å¤æ‚ï¼Œä¸è¿‡æ•ˆæœéå¸¸é…·ã€‚

```bash
$ git checkout master
$ git merge client
```

## Glob æ¨¡å¼

`glob` æ˜¯ä¸€ç§æ–‡ä»¶åŒ¹é…æ¨¡å¼ï¼Œå…¨ç§° `global`ï¼Œå®ƒèµ·æºäº Unix çš„ bash shell ä¸­

|é€šé…ç¬¦|æè¿°|ç¤ºä¾‹|åŒ¹é…|ä¸åŒ¹é…|
|:---:|:---:|:---:|:---:|:---:|
|\*|åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼ŒåŒ…å«ç©ºä¸²|Law*|Law, Lawså’ŒLawer| La, aw|
|?|åŒ¹é…1ä¸ªå­—ç¬¦|?at|cat, bat|at|
|[abc]|åŒ¹é…æ‹¬å·å†…å­—ç¬¦é›†åˆä¸­çš„å•ä¸ªå­—ç¬¦|[cb]at|cat, bat|at, bcat
|[a-z]|åŒ¹é…æ‹¬å·å†…å­—ç¬¦èŒƒå›´ä¸­çš„å•ä¸ªå­—ç¬¦|[a-z]at|aat, bat, zat|at, bcat, Bat|
|[^abc]æˆ–[!abc]|åŒ¹é…éæ‹¬å·å†…å­—ç¬¦é›†åˆä¸­çš„å•ä¸ªå­—ç¬¦|[!CB]at|cat, bat|Cat, Bat|
|[^a-z]æˆ–[!a-z]|åŒ¹é…éæ‹¬å·å†…å­—ç¬¦èŒƒå›´ä¸­çš„å•ä¸ªå­—ç¬¦|[!A-Z]at|aat, bat, zat|Aat, Bat, Zat|
|**|globstarï¼ŒåŒ¹é…æ‰€æœ‰æ–‡ä»¶å’Œä»»æ„å±‚ç›®å½•ï¼Œå¦‚æœ**åé¢ç´§æ¥ç€/åˆ™åªåŒ¹é…ç›®å½•ï¼Œä¸å«éšè—ç›®å½•|	src/**|	src/a.js, src/b/a.js, src/b/|	src/.hide/a.js|
|`{x, y, ...}`|Brace Expansionï¼Œå±•å¼€èŠ±æ‹¬å·å†…å®¹ï¼Œæ”¯æŒå±•å¼€åµŒå¥—æ‹¬å·| `a.{png,jp{,e}g}` |a.png, a.jpg, a.jpeg|--|
|?(pattern-list)|åŒ¹é…0æ¬¡æˆ–1æ¬¡ç»™å®šçš„æ¨¡å¼|a.?(txt\|bin)|a., a.txt, a.bin|a|
|*(pattern-list)|åŒ¹é…0æ¬¡æˆ–å¤šæ¬¡ç»™å®šçš„æ¨¡å¼|a.*(txt\|bin)|a., a.txt, a.bin, a.txtbin|a|
|+(pattern-list)|åŒ¹é…1æ¬¡æˆ–å¤šæ¬¡ç»™å®šçš„æ¨¡å¼|a.+(txt\|bin)|a.txt, a.bin, a.txtbin|a., a|
|@(pattern-list)|åŒ¹é…ç»™å®šçš„æ¨¡å¼|a.@(txt\|bin)|a.txt, a.bin|a., a.txtbin|
|!(pattern-list)|åŒ¹é…éç»™å®šçš„æ¨¡å¼|a.!(txt\|bin)|a., a.txtbin|a.txt, a.bin|
