# æ•°å­—

## parseFloat

:::info
å¦‚æœ parseFloat åœ¨è§£æè¿‡ç¨‹ä¸­é‡åˆ°äº† **_æ­£å·ï¼ˆ+ï¼‰ã€è´Ÿå·ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€å°æ•°ç‚¹ï¼ˆ.ï¼‰ã€æˆ–è€…ç§‘å­¦è®°æ•°æ³•ä¸­çš„æŒ‡æ•°ï¼ˆe æˆ– Eï¼‰ä»¥å¤–_** çš„å­—ç¬¦ï¼Œåˆ™å®ƒä¼šå¿½ç•¥è¯¥å­—ç¬¦ä»¥åŠä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼Œè¿”å›å½“å‰ **å·²ç»è§£æ** åˆ°çš„æµ®ç‚¹æ•°  
:::

:::tip
å¦‚æœå‚æ•°å­—ç¬¦ä¸²çš„**ç¬¬ä¸€ä¸ªå­—ç¬¦**ä¸èƒ½è¢«è§£ææˆä¸ºæ•°å­—,åˆ™ parseFloat/parseInt è¿”å› NaN

parseFloat ä¹Ÿå¯ä»¥è½¬æ¢ä¸€ä¸ªå·²ç»å®šä¹‰äº† toString æˆ–è€… valueOf æ–¹æ³•çš„å¯¹è±¡ï¼Œå®ƒè¿”å›çš„å€¼å’Œåœ¨è°ƒç”¨è¯¥æ–¹æ³•çš„ç»“æœä¸Šè°ƒç”¨ parseFloat å€¼ç›¸åŒã€‚
:::

```js:line-numbers {8}
// éƒ½æ˜¯ 3.14
parseFloat(3.14);
parseFloat('3.14');
// å¿½ç•¥å‰åç©ºç™½
parseFloat('  3.14  ');
parseFloat('314e-2');
parseFloat('0.0314E+2');
parseFloat('3.14some non-digit characters');
// æ‰§è¡Œ toString / valueOf
parseFloat({ toString: function() { return "3.14" } });
```

```js
parseFloat(""); // NAN
parseFloat(null); // NAN
parseFloat(undefined); // NAN
parseFloat("FF2"); // NaN
```

:::tip
ä½¿ç”¨ Number(value) è¿›è¡Œæ›´ä¸¥è°¨çš„è§£æï¼Œåªè¦å‚æ•°å¸¦æœ‰æ— æ•ˆå­—ç¬¦å°±ä¼šè¢«è½¬æ¢ä¸º NaN ã€‚
:::

å› ä¸º `typeof NaN == number`, æ‰€ä»¥,å¦‚æœæƒ³åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ `æ•°å­—`,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼:

```js
!Number.isNaN(parseFloat(123)) && Number.isFinite(123)
```

## Number

```js
Number(); // 0
Number(""); // 0
Number("12.PX"); // NaN
Number(null); // 0
Number(undefined); // NaN
```

<iframe
  height="280"
  width="100%"
  frameborder="1"
  src="//unpkg.com/javascript-playgrounds@^1.0.0/public/index.html?#data=%7B%22code%22%3A%22%5Cnlet%20x%20%3D%20Number(undefined)%3Bconsole.log(x)%3B%5Cnlet%20y%20%3D%20Number(null)%3Bconsole.log(y)%22%7D"
></iframe>

## trunc(truncateçš„ç®€å†™)

Math.trunc æ–¹æ³•ç”¨äºå»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚

```js
console.log(~~-23.8); // -23ï¼›
console.log(~~23.8); // 23ï¼›

let x = Math.trunc(23.8);
console.log(x); // 23

let y = Math.trunc(-23.8);
console.log(y); // -23
```

## Number.isNaN / isNaN

:::info NaN çš„ç”±æ¥
ç¼–ç ä¸­å¾ˆå°‘ç›´æ¥ä½¿ç”¨åˆ° NaNã€‚é€šå¸¸éƒ½æ˜¯åœ¨ **`è®¡ç®—å¤±è´¥`** æ—¶ï¼Œä½œä¸º **Math** çš„æŸä¸ªæ–¹æ³•çš„ **è¿”å›å€¼** å‡ºç°çš„ï¼ˆä¾‹å¦‚ï¼šMath.sqrt(-1)ï¼‰æˆ–è€…å°è¯•å°†ä¸€ä¸ª**å­—ç¬¦ä¸²è§£ææˆæ•°å­—ä½†å¤±è´¥äº†**çš„æ—¶å€™ï¼ˆä¾‹å¦‚ï¼šparseInt("blabla")ï¼‰ã€‚
:::

:::tip
â­ `Number.isNaN` ä¸ä¼šåšè½¬åŒ–ï¼Œåªæœ‰æ˜¯ `NaN`çš„æ—¶å€™æ˜¯ `NaN`,åˆ¤æ–­æ›´åŠ å‡†ç¡®
:::

```js
Number.isNaN(NaN); // true
Number.isNaN(9 / NaN); // true
Number.isNaN("true" / 0); // true
Number.isNaN("true" / "true"); // true
Number.isNaN(NaN); // true
Number.isNaN(Number.NaN); // true
Number.isNaN(0 / 0); // true

// åªåˆ¤æ–­æ˜¯ NaN,å…¶ä»–ç±»å‹ä¸ç®¡
Number.isNaN("NaN"); // falseï¼Œå­—ç¬¦ä¸² "NaN" ä¸ä¼šè¢«éšå¼è½¬æ¢æˆæ•°å­— NaNã€‚
Number.isNaN({}); // false
Number.isNaN(true); // false
Number.isNaN(null); // false
Number.isNaN(undefined); // false
Number.isNaN("12px"); // false
```

:::tip
â­`isNaN` æ˜¯éœ€è¦åš `Number` è½¬åŒ–ï¼Œç„¶ååˆ¤æ–­è½¬åŒ–åçš„ç»“æœæ˜¯å¦æ˜¯ `NaN`
:::

```js
isNaN(""); // ç©ºå­—ç¬¦ä¸²è½¬æˆæ•°å­— 0ï¼Œä¸æ˜¯ NaN
isNaN(null);//false 
// null è½¬æˆ 0 
// null æ˜¯ æŒ‡çš„æ˜¯å¯¹è±¡çš„ç©ºå€¼ï¼Œ0 æ˜¯æŒ‡çš„æ˜¯ æ•°å­—çš„ç©ºå€¼ï¼Œæ‰€ä»¥ Number( null ) == 0,

isNaN(undefined); // Number(undefined) == NaN æ˜¯ true
isNaN("12px"); // Number(12px) == NaN true
```

## [ğŸ”—toLocaleString](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString#checking_for_support_for_locales_and_options_arguments)

toLocaleString() æ–¹æ³•è¿”å›è¿™ä¸ªæ•°å­—åœ¨ç‰¹å®šè¯­è¨€ç¯å¢ƒä¸‹çš„è¡¨ç¤ºå­—ç¬¦ä¸²

```js
const number = 3500;

console.log(number.toLocaleString()); // 3,500

const number = 123456.789;
console.log(number.toLocaleString("zh-Hans-CN-u-nu-hanidec"));
// â†’ ä¸€äºŒä¸‰,å››äº”å…­.ä¸ƒå…«ä¹
```

### ä½¿ç”¨ [ğŸ”—options](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat)

currency(è´§å¸)
```js
const num = 123456;

//'CNY 123,456.00'
num.toLocaleString("zh", {
  style: "currency",
  currency: "CNY",
  currencyDisplay: "code",
});

// '123,456.000äººæ°‘å¸'
num.toLocaleString("zh", {
  style: "currency",
  currency: "CNY",
  currencyDisplay: "name",
  minimumFractionDigits: 3,
});

// 'Â¥123,456.000'
num.toLocaleString("zh", {
  style: "currency",
  currency: "CNY",
  minimumFractionDigits: 3,
});

(0.12).toLocaleString("zh", { style: "percent" }); // 12%
```
