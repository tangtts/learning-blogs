# 基础 css 属性

## 权重

```txt
内联:1000
id:100
class,属性，伪类:10
标签，伪元素：1
* ： 0
```

## 替换元素

如果只有替换元素的 vertical-align 是没有 baseline 的，没有基线概念

如果还有文字的话，文字的基准是 baseline 替换元素是直接 bottom

## 伪元素

### before / after

after 或者 before 是默认是 **_inline 模式_**，同时必须要有 content，需要设置 为 inline-block 才可以设置宽高

### :not

.a:not(.b) class a 但是不含有 b  
.cellData:hover:not(.isNotCurrentMonth) // 悬浮过去 但是不含有 isNotCurrentMonth 标签

```html
<!--黄色-->
<div class="css-a"></div>
<!--紫色-->
<div class="css-a css-b"></div>

<style>
  .css-a {
    width: 100px;
    height: 100px;
    background-color: rebeccapurple;
    &:not(.css-b) {
      background-color: yellow;
    }
  }
</style>
```

实际效果

<!--黄色-->
<div class="css-a"></div>
<!--紫色-->
<div class="css-a css-b"></div>

<style lang="scss" scoped>
  .css-a {
    width: 100px;
    height: 100px;
    background-color: rebeccapurple;
    &:not(.css-b){
      background-color: yellow;
    }
  }
</style>

```html
<div class="cellData"></div>
<div class="cellData isNotCurrentMonth"></div>

<style lang="scss" scoped>
  .cellData {
    width: 100px;
    height: 100px;
    background: yellow;
    &:hover:not(.isNotCurrentMonth) {
      background-color: rebeccapurple;
    }
  }
</style>
```

<div class="cellData"></div>
<div class="cellData isNotCurrentMonth"></div>

<style  lang="scss" scoped>
  .cellData {
    width: 100px;
    height: 100px;
    background:yellow;
    &:hover:not(.isNotCurrentMonth){
      background-color: rebeccapurple;
    }
  }
</style>

---

### first-child

<div>
  <div :class="child.a">a</div>
  <div :class="child.a">a</div>
  <div :class="child.a">a</div>
</div>

<style module="child">
.a:first-child{
  color:red
}
</style>

## 选择位置

### 前面是

```html
<div class="icon">icon</div>
<span>span</span>

<style>
  /* 选择span */
  .icon + span {
    color: red;
  }
</style>
```

<div :class="chooseFront.icon">icon</div>
<span>span</span>

<style module="chooseFront">
  /* 	 选择span */
  .icon + span {
    color: red;
  }
</style>

### 后面是

```html
<div class="icon">icon</div>
<span>span</span>

<style>
  /* 选择span */
  .icon:has(+span) {
    color: orange;
  }
</style>
```

<div :class="back.icon">icon</div>
<span>span</span>

<style module="back">
  /* 	 选择span */
   .icon:has(+span) {
    color: orange;
  }
</style>

### 里面有

```html
<div class="icon">icon <span>aaa</span> </div>

<style>
  /* 选择icon */
	/* 这个是只要是子元素就可以 */
  .icon:has(span){
    color: yellow;
  }
 /* 必须是直接子元素 */
  .icon:has(>span){
    color: yellow;
  }
</style>
```

### 不为空

```html
<div class="icon">icon <span>aaa</span> </div>

<style>
  /* 选择icon */
.icon:not(:empty){
  color: red;
}
</style>
```

## order 改变元素位置

```html
<ul>
  <li style="--bg:red" >1</li>
  <li style="--bg:green"> 2</li>
  <li style="--bg:yellow">3</li>
</ul>

<style>
  ul{
    display: flex;
  }

  li{
    margin: 10px;
    color: var(--bg);
  }
  /*  本应该在 最后面*/
  li:nth-child(2){
    order: -1;  /*[!code ++] */
  }
</style>
```

<ul :class="order.order-ul">
  <li :class="order.order-li" style="--bg:red" >1</li>
  <li style="--bg:green"> 2</li>
  <li style="--bg:orange">3</li>
</ul>

<style scoped lang="scss" module="order">
  
  .order-ul{
    display: flex;
  }

  .order-li{
    margin: 10px;
    color: var(--bg);
  }

  .order-li:nth-child(2){
    order: -1;
  }
</style>

## 属性

### flex 与 inline-flex

他们的表现形式有点类似于 **_`block`_** 和 **_`inline-block`_**。  

- 设置为 flex 容器，**它的宽度和父容器等宽**，即 width 为 100%，也称块 Flexbox 容器 

- 设置为 inline-flex 容器，它的**宽度是由其子元素（后代元素）的内容来决定**，相当于 width 为 auto，也称内联 Flexbox 容器

:::tip
`display: flex;` 相当于 `display: block flex;`

`display: inline-flex;` 相当于 `display: inline flex;`
:::

```html
<style>
  .app {
    width: 100px;
    height: 100px;
    background-color: green;
  }
</style>

<body>
  <div class="app">
    <span style="display: flex;height: 100%;background-color: red;"></span>  <!-- //[!code focus] -->
  </div>

  <div class="app">
    <span style="display: inline-flex;height: 100%;background-color: yellow;">  <!-- //[!code focus] -->
     abcd
    </span>
  </div>
</body>
```

重点关注他们的宽度,flex 的宽度和父容器一致,inline-flex的宽度和子容器的宽度一致

<style module="flex" scoped lang="scss">
  
  .app {
    width: 100px;
    height: 100px;
    background-color: green;
  }
</style>
  
  <div :class="flex.app">
    <span style="display: flex;height: 100%;background-color: red;"></span>
  </div>

  <div :class="flex.app">
    <span style="display: inline-flex;height: 100%;background-color: yellow;"> 
     abcd
    </span>
  </div>

----
#### flex:1 与 width 的权重

flex:1 的权重比 width 权重更高

```html
<style>
  .app {
    width: 100px;
    height: 100px;
    background-color: green;
  }

  .flex-item {
    flex: 1;  /*[!code ++] */
    width: 200px; /*[!code --] */
    background-color: aqua;
  }
</style>

<body>
  <div class="app">
    <div style="display: flex;
      flex-wrap: wrap;
      width: 500px;
      height: 100%;
      background-color: red;">
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
      <div class="flex-item"></div>
    </div>
  </div>
</body>
```

可以打开 `f12` 切换 `flex:1` 与 `width`,目前是 `flex:1` 在生效

<style scoped lang="scss" module="flex">
  .flex-item {
      flex: 1;
      width: 200px;
      background-color: aqua;
    }
  .app {
      width: 100px;
      height: 100px;
      background-color: green;
  };
</style>

  <div :class="flex.app">
    <div style="
      display: flex;
      flex-wrap: wrap;
      width: 500px;
      height: 100%;
      background-color: red;">
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
      <div :class="flex.flex-item"></div>
    </div>
  </div>

### grid 与 inline-grid

- grid 创建的网格容器是块盒，**网格容器的宽度和父容器宽度相等**
- inline-grid 创建的网格容器是内联盒子，**网格容器的宽度将由其具有最大宽度（max-content）的子元素（网格项目）来决定**

```css
.block-container {
    display: grid;
    /*相当于*/
    display: block grid;
}

.inline-container {
    display: inline-grid;
    /* 相当于 */
    display: inline grid;
}
```

```html
<body>
    <div
    style="display: inline-grid;
    width: 200px;
    height: 500px;
    background-color: red;">
      <div>首页</div>
      <div>逛逛</div>
      <div>购物车</div>
      <div>222222222222222</div>
    </div>
</body>
```

如果是 `display:inline-grid` 宽度是子元素的最大宽度

  <div style="display: inline-grid;
    height: 500px;
    background-color: red;">
      <div>首页</div>
      <div>逛逛</div>
      <div>购物车</div>
      <div>222222222222222</div>
  </div>

如果是 `display:grid` 宽度是父级宽度

  <div style="display: grid;
    height: 500px;
    background-color: red;">
      <div>首页</div>
      <div>逛逛</div>
      <div>购物车</div>
      <div>222222222222222</div>
  </div>

----

#### 网格

默认情况下,网格项目是 Stretch（拉伸的）

#### 轨道尺寸

- 带有不同单位的长度值，如 px、em、rem、%、vw 等，还有网格布局中独有的单位 fr
- 关键词，比如 none、auto、min-content 和 max-content
- CSS 函数，比如 fit-content()、minmax()、repeat()、min()、max()和 clamp()等

:::info 
为了让你的 CSS Grid 更为灵活（适应性更强），在定义网格轨道的时候，应该尽可能的使用内在尺寸，即 ***使用关键词和 CSS 的函数*** 
::: 

PC 端常见的两列布局，即 则边栏固定宽度，主内容区域自适应。

<img 
style="object-fit:contain"
src="../assets/img/v2-4ec087752ab5f3f4c3b15e9ca71298c3_720w.webp"/>
如果使用 CSS Grid 来布局的话，通常会像下面这样：

```css
  .container {
    display: grid;
    gap: 1rem;
    grid-template-columns: 250px 1fr;
    grid-template-areas: "sidebar "main";
}
```

可以设置的更为灵活

```css
  .container {
    grid-template-columns: fit-content(250px) 1fr;
}
```

`fit-content(250px) = fit-content(200px) = min(min(max-content, 网格中的可用宽度), max(min-content, 200px))`   

这样的好处是根据**可用空间自动匹配**,最大不超过 `250px`,最小不小于 `max-content`

:::tip 
在 CSS Grid 布局中，定义网格轨道尺寸时，***尽可能的不要使用外在尺寸***（比如设置固定的长度值\<length>），应该尽可能的使用内在尺寸（比如 min-content）

即使不使用内在尺寸，也应尽可能的结合 CSS 的函数（比如 min()、max()和 clamp()等），来提高网格轨道尺寸的灵活性和自适应性！
:::

#### 🚀auto-fill 与 auto-fit

- auto-fit 将扩展网格项目以填补可用空间，  
-  auto-fill 不会扩展网格项目。相反，auto-fill 将**保留可用的空间，而不改变网格项目的宽度**

<img src="../assets/img/v2-127d034c297703e4bdf592555fe582aa_720w.webp"/>

在网格容器中有多个和仅有一个网格项目时，使用 auto-fill 与 auto-fit 的差异：

<img src="../assets/img/v2-6a5f35c70d297bbf246cba52da3205be_720w.webp"/>

-----

### overscroll-behavior
#### 锁定滚动链 overscroll-behavior
最常见的情景是你打开一个弹框（Modal）并向下滚动到底部（垂直方向）时，如果继续向下滚动则会引起弹框下方的内容（通常是 body 元素）会继续滚动。这也是滚动链默认的表现行为：

```html
   <div style="
      overflow-y: auto;
      height: 200px;
      background-color: red;">
    <!-- 控制浏览器过度滚动时的表现——也就是滚动到边界。 -->
  <div 
      style="height: 300px;
      background-color:antiquewhite;
      overscroll-behavior-y: contain; /*//[!code focus] */
      overflow-y: scroll;">
      <div 
        style="height: 500px;
        background-color: aqua;">
      </div>
    </div>
  </div>
```
  <div style="
      overflow-y: auto;
      height: 200px;
      background-color: red;">
    <!-- 控制浏览器过度滚动时的表现——也就是滚动到边界。 -->
  <div 
      style="height: 300px;
      background-color:antiquewhite;
      overscroll-behavior-y: contain;
      overflow-y: scroll;">
      <div 
        style="height: 500px;
        background-color: aqua;">
      </div>
    </div>
  </div>

---
  #### [scroll-behavior](https://developer.mozilla.org/zh-CN/docs/Web/CSS/scroll-behavior)
1. scroll-behavior
   实现平稳的滚动 
2. scroll-snap-type
    如果它当前没有被滚动，这个滚动容器的可视视图将静止在临时点上。意思是当滚动动作结束，如果可能，它会临时在那个点上。
3. [scroll-snap-align(滚动捕捉对齐)](https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-align)   
  - start
  - end
  - center
 当前元素的哪个位置与父元素对齐 
  ```html
    <style>
    .behavior-contain {
      width: 100vw;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f7f7f7;
    }

    .behavior-section {
      background: url("https://www.w3cplus.com/sites/default/files/blogs/2021/2104/apple-iphone12-blue-portrait.png") no-repeat center;
      background-size: contain;
      width: 320px;
      height: 568px;
      position: relative;
    }

    .behavior-container {
      display: flex;
      width: 230px;
      height: 500px;
      position: absolute;
      top: 50%;
      transform: translate(0, -50%);
      left: 45px;
      border-radius: 30px;

      overflow-x: auto;
      overflow-y: hidden;
      scroll-behavior: smooth; /*[!code ++] */
      scroll-snap-type: x mandatory; /*[!code ++] */
    }

    .img {
      width: auto;
      height: 500px;
      object-fit: cover;
      object-position: center;
      scroll-snap-align: center; /*[!code ++] */
      scroll-snap-stop: always; /*[!code ++] */
    }
  </style>
</head>

<div :class="behavior.behavior-contain">
  <section class="behavior-section">
    <div class="behavior-container">
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=1" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=2" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=3" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=4" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=5" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=6" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=7" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=8" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=9" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=12" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=13" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=43" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=15" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=36" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=71" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=18" />
    </div>
  </section>
</div>
</body>
```
<style lang="scss" scoped module="behavior">
    .behaviorContain {
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f7f7f7;
    }

    .section {
      background: url("https://www.w3cplus.com/sites/default/files/blogs/2021/2104/apple-iphone12-blue-portrait.png") no-repeat center;
      background-size: contain;
      width: 320px;
      height: 568px;
      position: relative;
    }

    .container {
      display: flex;
      width: 230px;
      height: 500px;
      position: absolute;
      top: 50%;
      transform: translate(0, -50%);
      left: 45px;
      border-radius: 30px;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-behavior: smooth;
      scroll-snap-type: x mandatory;
    }

    .img {
      width: auto;
      height: 500px;
      object-fit: cover;
      object-position: center;
      scroll-snap-align: center;
      scroll-snap-stop: always;
    }
  </style>

<div :class="behavior.behaviorContain">
  <section :class="behavior.section">
    <div :class="behavior.container">
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=1" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=2" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=3" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=4" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=5" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=6" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=7" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=8" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=9" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=12" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=13" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=43" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=15" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=36" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=71" />
      <img :class="behavior.img" src="https://picsum.photos/375/667?random=18" />
    </div>
  </section>
</div>